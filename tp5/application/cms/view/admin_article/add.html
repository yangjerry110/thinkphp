<form class="form-horizontal" id="articleForm">
<div class="admin-right">
    <div class="admin-right-content">
        <div class="form-group">
            <label for="inputEmail3" class="col-sm-2 control-label">name</label>
            <div class="col-sm-10 summernote-span">
              
              <input type="text" class="form-control" id="inputEmail3" placeholder="name" name="name" value="{if isset($info)}{$info.name }{/if}"   >
              
            </div>
          </div>
          <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label">title</label>
            <div class="col-sm-10 summernote-span">
              <input type="text" class="form-control" id="inputPassword3" placeholder="Password" name="title" value="{if isset($info)}{$info.title}{/if}" </if>
            </div>
          </div>

          <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label">content</label>
            <div class="col-sm-10 summernote-span-i">
              {include file="../public/summernote/summernote/test.html" /}
            </div>
          </div>

          <div class="form-group">
            <label for="inputPassword3" class="col-sm-2 control-label"></label>
            <div class="col-sm-10 summernote-span-i">
               {if isset($info)}
                <button type="button" class="btn btn-success btn-default articleEdit-btn">修 改</button>
                <input type="hidden" name="id" value="{$info.id}">
              {else}
              <button type="button" class="btn btn-success btn-default adminLogin-btn">提 交</button>
              {/if}

            </div>
          </div>

   
    </div>
</div>
</form>

<script type="text/javascript">
$(document).ready(function(){
  $('.adminLogin-btn').click(function() {
    ajaxPost('articleForm','post','../admin/articleAdd.html');
  });
 
  $('.articleEdit-btn').click(function() {
    ajaxPost('articleForm','post','../admin/articleEdit.html');
  });
 

  function ajaxPost(formId,type,url){
    var formData = $("#"+formId).serialize();
    console.log(formData);
    
    //modal.show();
    //serialize() 方法通过序列化表单值，创建 URL 编码文本字符串,这个是jquery提供的方法  
    $.ajax({  
      type:type,  
      url:url,  
      data:formData,//这里data传递过去的是序列化以后的字符串
      error:function(error)
      {
        $('#myModal-small .modal-title').html('信息提示');
        $('#myModal-small .modal-body').html('信息提交错误！请重新提交');
        $('#myModal-small').modal('show');
      },  
      success:function(data){
      //console.log(1111);  
        //$('#modalContent').val(data.data);
        if(data.error != 0)
        {
          $('#myModal-small .modal-title').html('信息提示');
          $('#myModal-small .modal-body').html(data.data);
          $('#myModal-small').modal('show');
        }
        else
        {
          $('#myModal-small .modal-title').html('信息提示');
          $('#myModal-small .modal-body').html(data.data);
          $('#myModal-small').modal('show');
          window.setTimeout("window.location.href='../admin/articleList.html'",2000);
        }
        //modal.show();
        }  
      });  
    }  
  //提示框
    /*
    var modal = $.scojs_modal({
      //alert($('#modalContent').val());
      title: '提示信息',
      content: $('#modalContent').val(),
      width:'400',
      height:'200',
      cssclass:'addClass',
      top:'20%',
      left:'35%',
    });
  */
});
</script>